<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalizadorGEO</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e8f5e9; /* Verde claro */
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
        }

        h1 {
            color: #388e3c; /* Verde escuro */
            text-align: center;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #4caf50; /* Borda verde */
            border-radius: 4px;
        }

        input[type="button"] {
            background-color: #4caf50; /* Verde */
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
            padding: 10px;
        }

        input[type="button"]:hover {
            background-color: #45a049; /* Verde escuro no hover */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #4caf50; /* Borda verde */
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #388e3c; /* Verde escuro */
            color: white;
        }

        .no-results {
            text-align: center;
            color: red; /* Vermelho para destacar a mensagem */
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>LocalizadorGEO</h1>
        <label for="valorPesquisa">Digite aqui para pesquisar:</label>
        <input type="text" id="valorPesquisa" placeholder="Digite o valor para pesquisar...">
        <input type="button" value="Pesquisar" id="btnPesquisar">
        
        <table id="resultadoTabela" style="display: none;">
            <thead>
                <tr id="cabecalhoTabela"></tr>
            </thead>
            <tbody id="tabelaCorpo"></tbody>
        </table>

        <div id="mensagemResultados" class="no-results" style="display: none;"></div>
    </div>

    <script>
        const URL_DA_TABELA = 'https://raw.githubusercontent.com/TulioRCA/westapp/refs/heads/main/tabela.html';

        let dadosTabela = []; // Para armazenar os dados da tabela

        async function carregarDados() {
            const response = await fetch(URL_DA_TABELA);
            const html = await response.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const tabela = doc.querySelector('table');

            // Obter cabeçalhos
            const cabecalho = tabela.querySelector('thead').querySelectorAll('th');
            const cabecalhoArray = Array.from(cabecalho).map(th => th.textContent);
            document.getElementById('cabecalhoTabela').innerHTML = cabecalhoArray.map(item => `<th>${item}</th>`).join('');

            // Obter dados
            const linhas = tabela.querySelectorAll('tbody tr');
            dadosTabela = Array.from(linhas).map(linha => {
                const colunas = linha.querySelectorAll('td');
                return Array.from(colunas).map(td => td.textContent);
            });
        }

        function pesquisarDados() {
            const valor = document.getElementById('valorPesquisa').value.trim().toLowerCase();
            const resultadosFiltrados = dadosTabela.filter(row => 
                row.some(cell => cell.toLowerCase().includes(valor))
            );

            mostrarResultados(resultadosFiltrados);
        }

        function mostrarResultados(resultados) {
            const tabelaCorpo = document.getElementById('tabelaCorpo');
            tabelaCorpo.innerHTML = '';

            if (resultados.length > 0) {
                resultados.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = row.map(cell => `<td>${cell}</td>`).join('');
                    tabelaCorpo.appendChild(tr);
                });
                document.getElementById('resultadoTabela').style.display = 'table';
                document.getElementById('mensagemResultados').style.display = 'none'; // Oculta a mensagem de resultados
            } else {
                document.getElementById('mensagemResultados').textContent = 'Nenhum resultado encontrado.';
                document.getElementById('mensagemResultados').style.display = 'block';
                document.getElementById('resultadoTabela').style.display = 'none';
            }
        }

        document.getElementById('btnPesquisar').addEventListener('click', pesquisarDados);
        carregarDados(); // Carregar os dados no início
    </script>
</body>
</html>
